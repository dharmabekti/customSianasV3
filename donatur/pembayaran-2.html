<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Admin Template</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />
    <link href="../assets/css/style.css" rel="stylesheet" />
  </head>
  <body class="d-flex flex-column min-vh-100">
    <!-- Header fixed -->
    <header class="fixed-top shadow-sm">
      <!-- Branding Panel (Desktop) -->
      <div class="branding d-none d-lg-flex panel-header">
        <img src="https://sianas.aat.or.id/assets/images/logo_AAT.png" alt="Logo" />
        <span>Sistem Informasi Anak Asuh</span>
      </div>

      <!-- Navbar Desktop -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light px-3 shadow-sm">
        <div class="container-fluid">
          <!-- LEFT MENU -->
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Beranda</a>
            </li>

            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="donasiDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Donasi
              </a>
              <ul class="dropdown-menu" aria-labelledby="donasiDropdown">
                <li><h6 class="dropdown-header">Donasi Rutin</h6></li>
                <li><a class="dropdown-item" href="donasi_spp.html">SPP</a></li>
                <li><a class="dropdown-item" href="donasi_pt.html">Bantuan Pendidikan Tinggi</a></li>
                <li><a class="dropdown-item" href="donasi_opr.html">Operasional</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item" href="donasi_langsung.html">Donasi Langsung</a></li>
                <li><a class="dropdown-item" href="riwayat_pembayaran_donasi.html">Pembayaran Donasi</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="anakAsuhDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Anak Asuh
              </a>
              <ul class="dropdown-menu" aria-labelledby="anakAsuhDropdown">
                <li><a class="dropdown-item" href="anak_asuh.html">List Anak Asuh</a></li>
                <li><a class="dropdown-item" href="sekolah.html">List Sekolah</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item" href="bpt.html">List BPT</a></li>
                <li><a class="dropdown-item" href="pt.html">List Pendidikan Tinggi</a></li>
              </ul>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="rekening-yayasan.html">Rekening Yayasan</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="transfer-tak-dikenal.html">Transfer Tak Dikenal</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="kontak.html">Hubungi Kami</a>
            </li>
          </ul>

          <!-- RIGHT PROFILE & NOTIFICATION MENU -->
          <ul class="navbar-nav ms-auto align-items-center">
            <!-- ðŸ”” Notifikasi -->
            <li class="nav-item dropdown me-2">
              <a
                class="nav-link position-relative"
                href="#"
                id="notifDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="bi bi-bell" style="font-size: 1.3rem"></i>
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"> 3 </span>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="notifDropdown">
                <li><h6 class="dropdown-header">Notifikasi</h6></li>
                <li><a class="dropdown-item small" href="#">Pembayaran donasi berhasil</a></li>
                <li><a class="dropdown-item small" href="#">SPP anak asuh sudah jatuh tempo</a></li>
                <li><a class="dropdown-item small" href="#">Laporan bulanan tersedia</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item text-center small text-primary" href="#">Lihat semua</a></li>
              </ul>
            </li>

            <!-- ðŸ‘¤ Profil -->
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle d-flex align-items-center"
                href="#"
                id="profileDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  src="https://sianas.aat.or.id/assets/images/logo_AAT.png"
                  alt="User"
                  width="36"
                  height="36"
                  class="rounded-circle profile-img shadow-sm me-2"
                />
                <span class="fw-semibold">D-XX-XXXX</span>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                <li><a class="dropdown-item" href="profil.html">Profil</a></li>
                <li><a class="dropdown-item" href="#">Ubah Password</a></li>
                <li><a class="dropdown-item" href="riwayat_donasi.html">Riwayat Donasi</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item text-danger" href="#">Logout</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Navbar Mobile (atas) -->
    <nav class="fixed-top navbar navbar-dark bg-dark d-lg-none bg-aat">
      <div class="container-fluid">
        <button class="btn btn-outline-light" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileSidebar">
          <i class="bi bi-list"></i>
        </button>
        <span class="navbar-brand mx-auto">Pembayaran Donasi</span>
        <button class="btn btn-outline-light">
          <i class="bi bi-search"></i>
        </button>
      </div>
    </nav>

    <!-- Offcanvas Sidebar (Mobile) -->
    <div class="offcanvas offcanvas-start bg-dark text-white bg-aat" tabindex="-1" id="mobileSidebar">
      <!-- Header Sidebar -->
      <div class="offcanvas-header border-bottom">
        <div class="d-flex align-items-center">
          <img
            src="https://sianas.aat.or.id/assets/images/logo_AAT.png"
            class="rounded-circle me-2 profile-img"
            alt="Logo"
            width="40"
            height="40"
          />
          <span class="fw-bold">Sistem Informasi Anak Asuh</span>
        </div>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
      </div>

      <!-- Profil User -->
      <div class="p-4 border-bottom text-center bg-aat-grey bg-gradient text-black">
        <img
          src="https://sianas.aat.or.id/assets/images/logo_AAT.png"
          class="rounded-circle profile-img"
          alt="User"
          width="80"
          height="80"
        />
        <h6 class="mb-0">Admin User</h6>
        <small class="mb-0">Administrator</small>
      </div>

      <!-- Body Sidebar -->
      <div class="offcanvas-body d-flex flex-column p-0">
        <!-- Menu scrollable -->
        <div class="list-group list-group-flush flex-grow-1 overflow-auto">
          <a href="index.html" class="list-group-item list-group-item-action bg-aat text-white">
            <i class="bi bi-house me-2"></i> Beranda
          </a>
          <a
            href="#"
            class="list-group-item list-group-item-action bg-aat text-white"
            data-bs-toggle="collapse"
            data-bs-target="#donasi"
          >
            <i class="bi bi-cash me-2"></i> Donasi <i class="bi bi-chevron-down float-end"></i>
          </a>
          <div class="collapse" id="donasi">
            <a href="donasi_spp.html" class="list-group-item list-group-item-action bg-aat-grey ps-5">SPP</a>
            <a href="donasi_pt.html" class="list-group-item list-group-item-action bg-aat-grey ps-5"
              >Bantuan Pendidikan Tinggi</a
            >
            <a href="donasi_opr.html" class="list-group-item list-group-item-action bg-aat-grey ps-5">Operasional</a>
            <a href="pembayaran_langsung.html" class="list-group-item list-group-item-action bg-aat-grey ps-5"
              >Donasi Langsung</a
            >
            <a href="riwayat_pembayaran_donasi.html" class="list-group-item list-group-item-action bg-aat-grey ps-5"
              >Pembayaran Donasi</a
            >
          </div>
          <a
            href="#"
            class="list-group-item list-group-item-action bg-aat text-white"
            data-bs-toggle="collapse"
            data-bs-target="#komunitas"
          >
            <i class="bi bi-person-lines-fill me-2"></i> Anak Asuh <i class="bi bi-chevron-down float-end"></i>
          </a>
          <div class="collapse" id="komunitas">
            <a href="anak_asuh.html" class="list-group-item list-group-item-action bg-aat-grey ps-5">List Anak Asuh</a>
            <a href="sekolah.html" class="list-group-item list-group-item-action bg-aat-grey ps-5">List Sekolah</a>
            <a href="bpt.html" class="list-group-item list-group-item-action bg-aat-grey ps-5">List Anak BPT</a>
            <a href="#" class="list-group-item list-group-item-action bg-aat-grey ps-5">List Pendidikan Tinggi</a>
          </div>
          <a href="rekening-yayasan.html" class="list-group-item list-group-item-action bg-aat text-white">
            <i class="bi bi-wallet2 me-2"></i> Rekening Yayasan
          </a>
          <a href="transfer-tak-dikenal.html" class="list-group-item list-group-item-action bg-aat text-white">
            <i class="bi bi-receipt me-2"></i> Transfer Tak Dikenal
          </a>
          <a href="kontak.html" class="list-group-item list-group-item-action bg-aat text-white">
            <i class="bi bi-telephone me-2"></i> Hubungi Kami
          </a>
        </div>

        <!-- Footer Mobile -->
        <div class="p-3 border-top small text-center text-white d-lg-none">
          Â© Yayasan AAT Indonesia <br />
          Developed by <span class="fw-bold">Omah IT</span> <br />
          Maintained by <span class="fw-bold">Mandhira IT</span>
        </div>
      </div>
    </div>

    <!-- Bottom Navigation (Mobile) -->
    <div class="mobile-bottom-nav">
      <a href="index.html" class="text-dark text-center text-decoration-none">
        <i class="bi bi-house-fill fs-4"></i><br />
        <small>Beranda</small>
      </a>
      <a href="anak_asuh.html" class="text-dark text-center text-decoration-none">
        <i class="bi bi-person-lines-fill fs-4"></i><br />
        <small>Anak Asuh</small>
      </a>
      <a href="riwayat_pembayaran_donasi.html" class="text-dark text-center text-decoration-none">
        <i class="bi bi-receipt fs-4"></i><br />
        <small>Pembayaran</small>
      </a>
      <a href="profil.html" class="text-dark text-center text-decoration-none">
        <i class="bi bi-person-fill fs-4"></i><br />
        <small>Profil</small>
      </a>
    </div>
    <main class="container mt-5 pt-4 pb-5">
      <div class="d-none d-lg-block mb-5"></div>
      <div class="container-fluid mb-5 container-wrapper">
        <h3 class="text-center page-title">Pembayaran Donasi</h3>
        <div class="container my-4">
          <!-- TOTAL DONASI -->
          <div class="table-responsive mb-4">
            <h6 class="fw-semibold mb-2 text-secondary">Total Komitmen</h6>
            <div class="table-responsive">
              <div class="table-responsive">
                <table class="table no-mobile-hide table-bordered align-middle text-center mb-0">
                  <thead class="table-light">
                    <tr>
                      <th>Jenis Donasi</th>
                      <th>Donasi/Bulan</th>
                      <th>Jumlah Bulan</th>
                      <th>Sub Total Donasi</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td data-label="Jenis Donasi"><strong>Donasi SPP</strong></td>
                      <td data-label="Donasi/Bulan">Rp150.000</td>
                      <td data-label="Jumlah Bulan">12</td>
                      <td data-label="Sub Total Donasi">Rp1.800.000</td>
                    </tr>
                    <tr>
                      <td data-label="Jenis Donasi"><strong>Donasi PT</strong></td>
                      <td data-label="Donasi/Bulan">Rp200.000</td>
                      <td data-label="Jumlah Bulan">12</td>
                      <td data-label="Sub Total Donasi">Rp2.400.000</td>
                    </tr>
                    <tr>
                      <td data-label="Jenis Donasi"><strong>Donasi OPR</strong></td>
                      <td data-label="Donasi/Bulan">Rp20.000</td>
                      <td data-label="Jumlah Bulan">12</td>
                      <td data-label="Sub Total Donasi">Rp240.000</td>
                    </tr>
                    <tr class="fw-bold text-warning bg-light">
                      <td class="d-none d-md-table-cell">Total Donasi</td>
                      <td data-label="Donasi/bulan">Rp 370.000</td>
                      <td class="d-none d-md-table-cell"></td>
                      <td data-label="Total Donasi">Rp4.440.000</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <!-- STATUS DONASI -->
            <h6 class="fw-semibold mb-2 text-secondary mt-3">
              Status Donasi <small class="ft-10">(*Total Transfer yang Dihitung hanya yang Berstatus Valid) </small>
            </h6>
            <div class="table-responsive">
              <div class="table-responsive">
                <table class="table table-bordered text-center align-middle list-table no-mobile-hide">
                  <thead class="table-light">
                    <tr>
                      <th>Total Transfer</th>
                      <th>Total Donasi</th>
                      <th>Sisa Donasi (Kekurangan - / Kelebihan +)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td data-label="Total Transfer">Rp0</td>
                      <td data-label="Total Donasi">Rp1.800.000</td>
                      <td data-label="Sisa Donasi (Kekurangan - / Kelebihan +)" class="text-danger">-Rp1.800.000</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- JUMLAH PEMBAYARAN -->
          <div class="mb-3 jumlah-pembayaran">
            <label class="form-label fw-semibold">Jumlah Pembayaran</label>
            <div class="row">
              <!-- KIRI: Tombol Bulan -->
              <div class="col-12 col-md-8">
                <div class="d-grid gap-2" style="grid-template-columns: repeat(3, 1fr)">
                  <button class="btn btn-outline-primary">1 Bulan</button>
                  <button class="btn btn-outline-primary">2 Bulan</button>
                  <button class="btn btn-outline-primary">3 Bulan</button>
                  <button class="btn btn-outline-primary">6 Bulan</button>
                  <button class="btn btn-outline-primary">9 Bulan</button>
                  <button class="btn btn-outline-primary">12 Bulan</button>
                </div>
              </div>

              <!-- KANAN: Nominal Lain -->
              <div class="col-12 col-md-4 mt-3 mt-md-0">
                <div class="d-flex align-items-center">
                  <span class="me-2 fw-semibold">Rp</span>
                  <input type="number" class="form-control" placeholder="Jumlah lainnya" />
                </div>
              </div>
            </div>
          </div>

          <!-- METODE PEMBAYARAN -->
          <div class="mb-4 metode-pembayaran">
            <label class="form-label fw-semibold">Metode Pembayaran</label>
            <div class="d-flex flex-wrap gap-2">
              <button class="btn btn-outline-dark flex-fill active">Transfer BCA</button>
              <button class="btn btn-outline-success flex-fill">Transfer Mandiri</button>
              <button class="btn btn-outline-info flex-fill d-flex align-items-center justify-content-center gap-2">
                <span>QRIS</span> <span>ðŸ’³</span>
              </button>
            </div>
          </div>

          <div class="container-fluid my-4">
            <div class="row equal-height-row g-3">
              <!-- Card Kiri -->
              <div class="col-12 col-md-6">
                <div class="card h-100 shadow-sm text-start">
                  <div class="p-3 rounded mb-3 bg-white">
                    <div class="bg-success text-white px-3 py-1 rounded-pill d-inline-block fw-bold">Catatan</div>
                    <ul class="mt-2 mb-2 ps-3">
                      <li>Kode Unik tidak akan diikutkan dalam perhitungan donasi.</li>
                      <li>Akumulasi Kode Unik akan dipergunakan untuk Operasional Yayasan AAT Indonesia.</li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- Card Kanan -->
              <div class="col-12 col-md-6">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <!-- Rincian pembayaran -->
                    <div class="payment-summary">
                      <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="fw-medium text-secondary">Subtotal Pembayaran</span>
                        <span class="fw-semibold subtotal">Rp0</span>
                      </div>
                      <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="fw-medium text-secondary">Kode Unik</span>
                        <span class="kode-unik">Rp0</span>
                      </div>
                      <hr class="my-2" />
                      <div class="d-flex justify-content-between align-items-center">
                        <span class="fw-bold text-primary">Total Pembayaran</span>
                        <span class="fw-bold text-primary fs-5 total">Rp0</span>
                      </div>
                    </div>

                    <!-- Tombol aksi -->
                    <div class="text-center">
                      <br />
                      <button
                        class="btn btn-warning btn-lg fw-bold px-4 py-2 w-100 w-md-auto"
                        data-bs-toggle="modal"
                        data-bs-target="#transferModal"
                      >
                        PEMBAYARAN
                      </button>
                      <a href="#" class="d-block mt-2 small text-decoration-none">Saya lakukan nanti</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Modal Transfer -->
    <div
      class="modal fade"
      id="transferModal"
      tabindex="-1"
      aria-hidden="true"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content round-modal">
          <div class="modal-body text-center">
            <h5 class="fw-bold mb-3">
              Silahkan Transfer ke Rekening <br />
              <span class="text-primary bank-title">BCA Yayasan AAT Indonesia</span>
            </h5>

            <!-- Info Bank -->
            <div class="bank-info d-flex align-items-center justify-content-center mb-3">
              <img src="../assets/img/bca.png" alt="BCA" />
              <span class="fw-semibold text-warning ms-2 bank-name">Yayasan AAT Indonesia</span>
            </div>

            <!-- Nomor Rekening -->
            <div class="copy-box mb-3">
              <span class="fw-semibold fs-5 account-number">0373511118</span>
              <button class="btn-copy" onclick="copyToClipboard(document.querySelector('.account-number').textContent)">
                <i class="bi bi-clipboard"></i>
              </button>
            </div>

            <!-- Total Transfer -->
            <p class="fw-semibold mb-1">Total Transfer</p>
            <div class="copy-box mb-3">
              <span class="fw-semibold fst-italic total-transfer">Rp0</span>
              <button class="btn-copy" onclick="copyToClipboard(document.querySelector('.total-transfer').textContent)">
                <i class="bi bi-clipboard"></i>
              </button>
            </div>

            <!-- Accordion Detail -->
            <div class="accordion mb-4 text-start" id="detailAccordion">
              <div class="accordion-item border-0">
                <h2 class="accordion-header" id="headingDetail">
                  <button
                    class="accordion-button collapsed fw-semibold text-dark p-0 bg-transparent shadow-none"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseDetail"
                    aria-expanded="false"
                    aria-controls="collapseDetail"
                  >
                    Detail <span class="text-primary ms-1">Transaksi</span>
                  </button>
                </h2>

                <div
                  id="collapseDetail"
                  class="accordion-collapse collapse mt-3"
                  aria-labelledby="headingDetail"
                  data-bs-parent="#detailAccordion"
                >
                  <div class="accordion-body p-3 border rounded" style="font-size: 12px">
                    <p class="mb-1">(Nama <span class="text-decoration-underline">Donatur</span>)</p>
                    <p class="mb-3">(ID <span class="text-decoration-underline">Donatur</span>)</p>

                    <div class="d-flex justify-content-between">
                      <span>Nominal Transfer <em class="fst-italic">2 bulan</em></span>
                      <strong class="subtotal-detail">Rp0</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                      <span>Kode Unik</span>
                      <strong class="kode-unik-detail">Rp0</strong>
                    </div>

                    <hr class="my-2" />

                    <div class="d-flex justify-content-between fw-bold">
                      <span>Total Transfer</span>
                      <span class="text-dark total-detail">Rp0</span>
                    </div>

                    <div class="alert alert-success py-2 small mt-3 mb-0" style="background-color: #dfffd9">
                      <ul class="mb-0 ps-3">
                        <li>Kode Unik tidak akan diikutkan dalam perhitungan donasi.</li>
                        <li>Akumulasi Kode Unik akan dipergunakan untuk <b>Operasional Yayasan AAT Indonesia</b>.</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <button
              class="btn btn-primary w-100 fw-bold mb-2"
              data-bs-toggle="modal"
              data-bs-target="#confirmPaymentModal"
            >
              Selesai
            </button>
            <a
              href="#"
              class="small text-decoration-none text-danger d-block"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              Batalkan Transaksi
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Upload Bukti Pembayaran -->
    <!-- Modal Konfirmasi Pembayaran -->
    <div
      class="modal fade"
      id="confirmPaymentModal"
      tabindex="-1"
      aria-hidden="true"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content round-modal">
          <div class="modal-body text-center">
            <h5 class="fw-bold">Selamat!!! Kamu telah melakukan transfer sejumlah</h5>
            <form id="paymentConfirmForm" enctype="multipart/form-data">
              <div class="modal-body ft-12">
                <div class="copy-box">
                  <span class="fw-semibold fs-5 account-number">Rp1.800.023</span>
                </div>
                <p class="text-secondary mb-3 mt-3">
                  Kami memerlukan waktu untuk melakukan pengecekan, transaksi yang telah kamu lakukan sudah masuk atau
                  belum. Guna mempermudah kami, kamu dapat mengirimkan bukti transfer dibawah ini:
                </p>

                <div class="mb-3 text-start">
                  <label for="paymentProof" class="form-label fw-semibold">Upload Bukti Pembayaran</label>
                  <input
                    type="file"
                    class="form-control"
                    id="paymentProof"
                    name="paymentProof"
                    accept="image/*"
                    required
                  />
                  <small class="text-muted d-block mt-1"> Format: JPG, PNG, atau PDF (maks. 500kb) </small>
                </div>

                <div class="preview-box mt-3 text-center d-none">
                  <img id="previewImage" src="" alt="Preview Bukti Pembayaran" class="img-fluid rounded shadow-sm" />
                </div>
              </div>

              <div class="modal-footer d-flex flex-wrap justify-content-between gap-2">
                <button type="submit" class="btn btn-primary flex-fill fw-bold">Upload Bukti Pembayaran</button>
                <a href="riwayat_pembayaran_donasi.html" class="d-block mt-2 small text-decoration-none"
                  >Lewati langkah ini</a
                >
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Tambahkan di dalam <body> setelah script bootstrap -->
    <script>
      function copyToClipboard(text) {
        navigator.clipboard.writeText(text);
        alert('Tersalin: ' + text);
      }

      // Saat modal dibuka, isi detail otomatis dari total pembayaran di halaman
      document.getElementById('transferModal').addEventListener('show.bs.modal', function () {
        const subtotal = document.querySelector('.subtotal')?.textContent || 'Rp0';
        const kodeUnik = document.querySelector('.kode-unik')?.textContent || 'Rp0';
        const total = document.querySelector('.total')?.textContent || 'Rp0';

        // Update tampilan di modal
        document.querySelector('.subtotal-detail').textContent = subtotal;
        document.querySelector('.kode-unik-detail').textContent = kodeUnik;
        document.querySelector('.total-detail').textContent = total;
        document.querySelector('.total-transfer').textContent = total;

        document.getElementById('confirmPaymentModal').addEventListener('show.bs.modal', function () {
          document.querySelector('#confirmPaymentModal .account-number').textContent = total;
        });
      });

      document.addEventListener('DOMContentLoaded', function () {
        const baseAmount = 150000; // tarif per bulan (ubah sesuai kebutuhan)

        // Elemen tombol jumlah bulan & input manual
        const monthButtons = document.querySelectorAll('.jumlah-pembayaran button');
        const inputManual = document.querySelector('.jumlah-pembayaran input');
        const subtotalEl = document.querySelector('.subtotal');
        const totalEl = document.querySelector('.total');

        // Tombol metode pembayaran
        const metodeButtons = document.querySelectorAll('.metode-pembayaran button');
        const kodeUnikEl = document.querySelector('.kode-unik');

        let selectedMonths = 2; // default aktif 2 bulan
        let metode = 'bca'; // default metode

        // Fungsi format rupiah
        const formatRupiah = n => 'Rp' + n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');

        // Fungsi hitung total
        function updateTotal() {
          const subtotal = selectedMonths * baseAmount;
          const kodeUnik = metode === 'bca' ? 123 : metode === 'mandiri' ? 456 : Math.floor(Math.random() * 900) + 100;
          const total = subtotal + kodeUnik;

          subtotalEl.textContent = formatRupiah(subtotal);
          kodeUnikEl.textContent = 'Rp' + kodeUnik;
          totalEl.textContent = formatRupiah(total);
        }

        // Klik jumlah pembayaran
        monthButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            monthButtons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            inputManual.value = '';
            selectedMonths = parseInt(btn.textContent) || 1;
            updateTotal();
          });
        });

        // Input manual jumlah lain
        inputManual.addEventListener('input', e => {
          monthButtons.forEach(b => b.classList.remove('active'));
          const val = parseInt(e.target.value);
          if (!isNaN(val) && val > 0) selectedMonths = val / baseAmount;
          updateTotal();
        });

        // Klik metode pembayaran
        metodeButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            metodeButtons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            if (btn.textContent.includes('BCA')) metode = 'bca';
            else if (btn.textContent.includes('Mandiri')) metode = 'mandiri';
            else metode = 'qris';
            updateTotal();
          });
        });

        updateTotal();
      });
    </script>
  </body>
</html>
